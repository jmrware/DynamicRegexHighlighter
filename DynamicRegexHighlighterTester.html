<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Dynamic Regex Highlighting Tester  (rev:20100831_1400)</title>
<meta name="author" content="Jeff Roberson" />
<meta name="version" content="20100831_1400" />
<meta name="licence" content="MIT" />
<style type="text/css" media="screen">
    body {margin: 2em; color:#333; background:#DDB;}
    div {margin: 0; padding: 0em 1.5em 1em; border: 2px solid #555; background:#EEC;}
    pre {margin: 1em 0; padding: 1em; border: 2px solid #555; font-size: 1.2em; overflow: auto;}
    h1, h2 {font-family: monospace;}
    .regex_err {color: #FFF; background-color: #F00;}
    .regex_hl {color: #333; background-color: #0F0;}
    textarea {width: 99%;}
</style>
<script type="text/javascript" src="DynamicRegexHighlighter.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
/* Read textarea input, write to output elem and prepare regex highlighting */
function handleOnclick() {  // This takes over the form submit button event.
    var input, text, x_flag, output;            // Our local variables.
    if (!document.getElementById) return true;  // Braindead browser? Exit.
    input  = document.getElementById('input');  // Textarea form element.
    x_flag = document.getElementById('re_x');   // Checkbox form element.
    output = document.getElementById('output'); // Output PRE element.
    if (!input || !x_flag || !output) return true;  // Not prepared? Exit.
    if (x_flag.checked) {                   // Need to display commented
        output.className="regex re_x";      // regexes with whitespace as-is
        output.style.whiteSpace = 'pre';    // with linebreaks as user says.
    } else {                                // But non-x-flag, non-commented
        output.className="regex";           // regexes need auto-wrap on to
        output.style.whiteSpace = 'normal'; // wrap if very long and one word.
    }                                       // (e.g. long Javascript regexes)
    text = input.value;                     // What the user typed in; a regex!
    text = reHideHtmlSpecialChars(text);    // Convert &<> to html entities.
    output = rePutElemContents(output, text);  // Preserve PRE whitespace in IE.
    reHighlightElement(output); // Sit back and let Disco Stu do his thing...
    input = null; x_flag = null; output = null; // Clean up as force of habit.
    return false;                               // Don't actually submit form.
}
/* ]]> */
</script>
</head>
<body><div>
<h1 class="regex">Dynamic (?:Regex Highlighting)++ Tester</h1>
<p>Documentation: <a title="The main documantation page" href="DynamicRegexHighlighter.html">DynamicRegexHighlighter.html</a></p>
<form action="" method="get">
<p>Enter a regex. Choose <input title="Incorrect selection may result in wrongly identified errors." id="re_x" type="checkbox" name="re_x" /> Perl "x" free spacing mode option. Click: <input id="submit" type="submit" name="submit" value="submit" onclick="return handleOnclick();"/></p>
<p><textarea id="input" name="input" rows="10" cols="80">Type in (?:regex)++ here, choose "x" option (or not), # then click [Submit].</textarea></p>
<pre class="regex re_x" id="output">Dynamically highlightable regex appears here</pre>
</form>
</div>
</body></html>
